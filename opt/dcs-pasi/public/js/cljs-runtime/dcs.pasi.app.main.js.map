{"version":3,"sources":["dcs/pasi/app/main.cljs"],"mappings":";AAQA,yBAAA,zBAAMA;AAAN,AAAA,0FAAA,mDAAA,mFAGIC,iCAED,yBAAA,AAAAC,RAAMC,wBAAOC;IACPC,OAAM,AAAA,mFAAA,AAAA,mFAAIF;AADhB,AAEE,YAAA,ZAACG,0BAA6BH;;AAFhC,0FAGGE,KAAKF;KARX,mFAAA,uEAAA,mFAAA,8CAAA,gBAAA,mFAAA,wDAAA,gCAAA;;AAaA,0BAAA,1BAAuBI;AAAvB,AAEE,YAAA,ZAACD;;AACD,AAACE;;AACD,YAAA,ZAACF;;AACD,wDAAA,jDAACG,oIAAaT,+BAAM,wBAAA,xBAAiBU;;AAEvC,yBAAA,zBAAeC;AAAf,AAKE,AAACC;;AACD,OAACL;;;AAGH,yBAAA,zBAAwBM;AAAxB,AAEE,mBAAA,ZAACP","names":["dcs.pasi.app.main/page","dcs.pasi.app.navbar/root","cljs.core/deref","route","dcs.pasi.app.state/route-match-cursor","view","js/console.log","dcs.pasi.app.main/start","dcs.pasi.app.router/init","reagent.dom.render","js/document","dcs.pasi.app.main/init","dcs.pasi.app.loader/load-data","dcs.pasi.app.main/stop"],"sourcesContent":["(ns dcs.pasi.app.main\n  (:require [reagent.dom :as rdom]\n            [dcs.pasi.app.watch] \n            [dcs.pasi.app.state :as state]\n            [dcs.pasi.app.router :as router]\n            [dcs.pasi.app.navbar :as navbar]\n            [dcs.pasi.app.loader :as loader]))\n\n(defn page\n  []\n  [:div\n   [navbar/root]\n   ;[status/root]\n   (let [route @state/route-match-cursor\n         view  (-> route :data :view)]\n     (js/console.log \"page route=\" route)\n     [view route])\n   [:footer.footer\n    [:p \"Built by the \" [:strong \"Data Commons Scotland\"] \" project.\"]]])\n\n;; called by init and after code reloading finishes\n(defn ^:dev/after-load start\n  []\n  (js/console.log \"Starting router\")\n  (router/init)\n  (js/console.log \"Starting render\")\n  (rdom/render [page] (.getElementById js/document \"app\")))\n\n(defn ^:export init\n  []\n      ;; init is called ONCE when the page loads\n      ;; this is called in the index.html and must be exported\n      ;; so it is available even in :advanced release builds\n  (loader/load-data)\n  (start))\n\n;; this is called before any code is reloaded\n(defn ^:dev/before-load stop\n  []\n  (js/console.log \"stop\"))\n"]}