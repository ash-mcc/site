{"version":3,"sources":["dcs/pasi/app/navbar.cljs"],"mappings":";AAKA,mCAAA,nCAAMA,8EAAcC,GAAGC;AAAvB,AACE,IAAMC,eAAa,AAAaF;AAAhC,AACE,oBAAM,AAAWE,sBAAaD;AAA9B,AACE,OAASC,oBAAaD;;AADxB;;;AAGJ,mCAAA,nCAAME,8EAAcH,GAAGC;AAAvB,AACE,IAAMC,eAAa,AAAaF;AAAhC,AACE,oBAAI,AAAWE,sBAAaD;AAC1B,OAASC,oBAAaD;;AACtB,OAAMC,iBAAaD;;;AAEzB;;;oCAAA,pCAAMG,gFAEHC;AAFH,AAGE,IAAMC,YAAU,wBAAA,xBAAiBC;IAE3BC,gBAAc,AAAU,AAAWF;IACnCG,gBAAc,AAAiBF,wBAAYC;AAHjD,AAIE,2CAAA,3CAACL,iCAAaG;;AACd,sDAAA,/CAACH,iCAAaM;;AAElB;;;sCAAA,tCAAMC;AAAN,AAGE,IAAMJ,YAAU,wBAAA,xBAAiBC;IAC3BC,gBAAc,AAAU,AAAWF;IACnCG,gBAAc,AAAiBF,wBAAYC;AAFjD,AAGE,2CAAA,3CAACT,iCAAaO;;AACd,sDAAA,/CAACP,iCAAaU;;AAElB,AAAA,uCAAA,+CAAAE,tFAAME;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,mEAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,mEAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,CAAA,qEAAA,rEAAMD,gFACEE,MAAMC;AADd,AAAA,0FAAA,uEAAA,2CAAA,6DAAA;AAAA,AAGoB,OAACN;GAHrB,0DAAA,oIAAA,mFAAA,mFAAA,mFAAA,lYAG4CM,6DAAa,kDAAA,SAAA,zDAAI,uCAAA,vCAACC,kCAAiBD,4XAE5CD;;;AALnC,CAAA,qEAAA,rEAAMF,gFAMEE,MAAMG,SAASF;AANvB,0BAOW,AAACG,mEAAiBJ,MAAMC,nGACxB,yGAAA,mFAAA,IAAA,YAAA,mFAAA,xRAACI,uXAA2CF;;;AARvD,CAAA,+DAAA,/DAAML;;AAAN,AAUA,2BAAA,3BAAMS;AAAN,AAAA,0FAAA,4GAAA,2CAAA,qDAAA,qBAAA,mFAAA,6EAAA,mFAAA,uEAAA,2CAAA,0NAAA,mFAAA,mFAAA,2CAAA,oDAAA,oBAAA,iDAAA,4BAAA,+CAAA,mFAAA,gDAAA,2BAAA,YAAA,mFAAA,+EAAA,mFAAA,oHAAA,2CAAA,mEAAA,YAAA,6DAAA,WAAAD,/wCAI+B,wDAAA,xDAACE;AAJhC,AASmF,yCAAAF,lCAACjB;WATpF,mFAAA,6DAAA,mFAAA,6DAAA,mFAAA,6EAAA,mFAAA,8FAAA,mFAAA,qFAAA,mFAAA,yEAAA,mFAAA,+HAAA,mFAAA,8EAAA,uBAAA,mFAAA,qGAAA,mFAAA,2EAAA,mFAAA,wFAAA,mFAAA,qDAAA,oIAAA,mFAAA,wDAAA,vOA4BoF,+CAAA,/CAACoB,mDAAS,6BAAA,7BAACC,yOAIpF,mEAAA,mFAAA,yEAAA,mFAAA,2FAAA,mFAAA,2FAAA,mFAAA,qDAAA,nsBAACN,ivBAEiB,wDAAA,mGAAA,KAAA,2CAAA,mEAAA,9QAACI,2UACnB,mEAAA,mFAAA,yEAAA,mFAAA,4GAAA,mFAAA,2FAAA,mFAAA,qDAAA,ptBAACJ,swBAEiB,wDAAA,0HAAA,KAAA,2CAAA,mEAAA,rSAACI,2XACnB,mEAAA,mFAAA,yEAAA,mFAAA,gGAAA,mFAAA,2FAAA,mFAAA,qDAAA,xsBAACJ,0vBAEiB,wDAAA,uHAAA,KAAA,2CAAA,mEAAA,lSAACI,sXACnB,mEAAA,mFAAA,yEAAA,mFAAA,+FAAA,mFAAA,2FAAA,mFAAA,qDAAA,vsBAACJ,+uBAEiB,wDAAA,kGAAA,KAAA,2CAAA,mEAAA,7QAACI,0UACnB,mEAAA,mFAAA,yEAAA,mFAAA,kGAAA,mFAAA,2FAAA,mFAAA,qDAAA,1sBAACJ,2uBAEiB,wDAAA,qGAAA,KAAA,2CAAA,mEAAA,hRAACI,kVACnB,mEAAA,mFAAA,yEAAA,mFAAA,iGAAA,mFAAA,2FAAA,mFAAA,qDAAA,zsBAACJ,mvBAEiB,wDAAA,xDAACI,iKACnB,mEAAA,mFAAA,yEAAA,mFAAA,6FAAA,mFAAA,2FAAA,mFAAA,qDAAA,rsBAACJ,2uBAEiB,wDAAA,kGAAA,KAAA,2CAAA,mEAAA,7QAACI","names":["dcs.pasi.app.navbar/remove-class","el","toggleable-class","el-classList","dcs.pasi.app.navbar/toggle-class","dcs.pasi.app.navbar/toggle-burger","_event","burger-el","js/document","navbarmenu-id","navbarmenu-el","dcs.pasi.app.navbar/collapse-burger","var_args","G__83865","dcs.pasi.app.navbar/navbar-clickable","js/Error","title","href","clojure.string/starts-with?","subtitle","dcs.pasi.app.navbar.navbar_clickable","cljs.core/assoc-in","p1__83866#","dcs.pasi.app.navbar/root","reitit.frontend.easy.href","cljs.core.repeat","goog.string/unescapeEntities"],"sourcesContent":["(ns dcs.pasi.app.navbar\n  (:require [clojure.string :as str]\n            [reitit.frontend.easy :as rfe]\n            [goog.string :as gstring]))\n\n(defn remove-class [el toggleable-class]\n  (let [el-classList (.-classList el)]\n    (when (.contains el-classList toggleable-class)\n      (.remove el-classList toggleable-class))))\n\n(defn toggle-class [el toggleable-class]\n  (let [el-classList (.-classList el)]\n    (if (.contains el-classList toggleable-class)\n      (.remove el-classList toggleable-class)\n      (.add el-classList toggleable-class))))\n\n(defn toggle-burger\n  \"Expands/collapses the burger-ised menu\"\n  [_event]\n  (let [burger-el (.getElementById js/document \"topburger\")\n        ;burger-el (.-currentTarget _event)\n        navbarmenu-id (.-target (.-dataset burger-el))\n        navbarmenu-el (.getElementById js/document navbarmenu-id)]\n    (toggle-class burger-el \"is-active\")\n    (toggle-class navbarmenu-el \"is-active\")))\n\n(defn collapse-burger\n  \"Collapses the burger-ised menu. Only works when the burger is in-play.\"\n  []\n  (let [burger-el (.getElementById js/document \"topburger\")\n        navbarmenu-id (.-target (.-dataset burger-el))\n        navbarmenu-el (.getElementById js/document navbarmenu-id)]\n    (remove-class burger-el \"is-active\")\n    (remove-class navbarmenu-el \"is-active\")))\n\n(defn navbar-clickable\n      ([title href]\n       [:a.navbar-item\n        {:on-click #(collapse-burger) :href href :target (if (str/starts-with? href \"http\") \"_blank\" \"_self\")}  ;; Clickable navbar items should close the burger.\n        [:span.navbar-content\n         [:span.has-text-link-dark title]]])\n      ([title subtitle href]\n       (-> (navbar-clickable title href)\n           (assoc-in [2 2] [:p.is-size-7.has-text-dark subtitle])))) ;; Append a vector that contains the subtitle\n\n(defn root []\n      [:nav.navbar.is-fixed-top.is-light {:role \"navigation\"}\n\n       [:div.navbar-brand\n        [:a.navbar-item {:href (rfe/href :dcs.pasi.app.router/home-view)}\n         [:img.brand-logo.pr-4 {:src \"img/pasi-logo.png\" :alt \"PASI logo\"}]\n         \"Participatory Accounting of Social Impacts (\" [:em \"proof-of-concept\"] \")\"]\n        [:a.navbar-item]\n\n        [:span#topburger.navbar-burger.burger {:data-target \"topnavbar\" :on-click #(toggle-burger %) }\n         [:span]\n         [:span]\n         [:span]]]\n\n       [:div#topnavbar.navbar-menu\n\n        [:div.navbar-start\n         #_[:a.navbar-item {:href \"#\"} \"Left side items beside the brand logo\"]]\n\n        [:div.navbar-end\n\n\n         ;; Participants\n         [:div.navbar-item.has-dropdown.is-hoverable\n          [:label.navbar-link \"Participants\"]\n          [:div.navbar-dropdown.is-right\n           \n           [:div.navbar-item\n            [:p.has-text-weight-bold [:span \"Choose to play the role of one of the\" (repeat 6 (gstring/unescapeEntities \" &nbsp;\"))\n                                      [:br] \"following participants... \"]]]\n\n\n           (navbar-clickable [:span.icon-text [:span.icon.has-text-info [:i.fas.fa-circle]] [:span \"Alloa Community Enterprises\"]]\n                             ;[:span \"Alloa Community Enterprises - Administrator\"]\n                             (rfe/href :dcs.pasi.app.router/ace-view nil {:participant :ace}))\n           (navbar-clickable [:span.icon-text [:span.icon.has-text-warning-dark [:i.fas.fa-circle]] [:span \"Public access (unauthenticated)\"]]\n                             ;[:span \"Public access (unauthenticated)\"]\n                             (rfe/href :dcs.pasi.app.router/unauthenticated-view nil {:participant :unauthenticated}))\n           (navbar-clickable [:span.icon-text [:span.icon.has-text-success [:i.fas.fa-circle]] [:span \"Identified member of the public\"]]\n                             ;[:span \"Identified member of the public access\"]\n                             (rfe/href :dcs.pasi.app.router/identified-mop-view nil {:participant :identified-mop}))\n           (navbar-clickable [:span.icon-text [:span.icon.has-text-danger [:i.fas.fa-circle]] [:span \"Data Commons Scotland\"]]\n                             ;[:span \"Data Commons Scotland - Administrator\"]\n                             (rfe/href :dcs.pasi.app.router/dcs-view nil {:participant :dcs}))\n           (navbar-clickable [:span.icon-text [:span.icon.has-text-warning [:i.fas.fa-circle]] [:span \"The Fair Share\"]]\n                             ;[:span \"The Fair Share - Administrator\"]\n                             (rfe/href :dcs.pasi.app.router/frshr-view nil {:participant :frshr}))\n           (navbar-clickable [:span.icon-text [:span.icon.has-text-primary [:i.fas.fa-circle]] [:span \"Stirling Community Food\"]]\n                             ;[:span \"Stirling Community Food - Administrator\"]\n                             (rfe/href :dcs.pasi.app.router/stcmf-view))\n           (navbar-clickable [:span.icon-text [:span.icon.has-text-black [:i.fas.fa-circle]] [:span \"Zero Waste Scotland\"]]\n                             ;[:span \"Zero Waste Scotland - Administrator\"]\n                             (rfe/href :dcs.pasi.app.router/zws-view nil {:participant :zws}))]]\n\n                              \n         ;; About\n                              #_[:a.navbar-item\n                                 {:on-click #(collapse-burger)\n                                  :href     (rfe/href :dcs.prototype-6.router/about-view)}\n                                 [:span (gstring/unescapeEntities \"&nbsp;\") \"About\" (gstring/unescapeEntities \"&nbsp;\")]]]]])"]}