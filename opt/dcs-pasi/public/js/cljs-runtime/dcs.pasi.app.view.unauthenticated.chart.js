goog.provide('dcs.pasi.app.view.unauthenticated.chart');
dcs.pasi.app.view.unauthenticated.chart.chart_template_wasteStream_bar = new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"schema","schema",-1582001791),"https://vega.github.io/schema/vega/v5.json",new cljs.core.Keyword(null,"width","width",-384071477),(700),new cljs.core.Keyword(null,"title","title",636505583),"Carbon savings per quarter",new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"values","values",372645556),new cljs.core.Keyword(null,"PLACEHOLDER","PLACEHOLDER",-1088623716)], null),new cljs.core.Keyword(null,"transform","transform",1381301764),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"timeUnit","timeUnit",-1287194281),"yearquarter",new cljs.core.Keyword(null,"field","field",-1302436500),"to",new cljs.core.Keyword(null,"as","as",1148689641),"quarter"], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"aggregate","aggregate",1511468442),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"op","op",-1882987955),"sum",new cljs.core.Keyword(null,"field","field",-1302436500),"carbonSavingCo2eKg",new cljs.core.Keyword(null,"as","as",1148689641),"carbonSavingCo2eKg"], null)], null),new cljs.core.Keyword(null,"groupby","groupby",-497368173),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["quarter","wasteStream"], null)], null),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"calculate","calculate",-1224644403),"datum.carbonSavingCo2eKg / 1000",new cljs.core.Keyword(null,"as","as",1148689641),"carbonSavingCo2eTonnes"], null)], null),new cljs.core.Keyword(null,"layer","layer",-1601820589),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"mark","mark",-373816345),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"type","type",1174270348),"bar",new cljs.core.Keyword(null,"cornerRadiusTopLeft","cornerRadiusTopLeft",-1216951048),(3),new cljs.core.Keyword(null,"cornerRadiusTopRight","cornerRadiusTopRight",-2094306983),(3)], null),new cljs.core.Keyword(null,"encoding","encoding",1728578272),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"x","x",2099068185),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"title","title",636505583),"Year quarter",new cljs.core.Keyword(null,"field","field",-1302436500),"quarter",new cljs.core.Keyword(null,"type","type",1174270348),"temporal",new cljs.core.Keyword(null,"axis","axis",-1215390822),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"labelExpr","labelExpr",897707185),"timeFormat(datum.value, '%q') == '1' ? timeFormat(datum.value, 'Q%q %Y') : timeFormat(datum.value, 'Q%q')",new cljs.core.Keyword(null,"labelAngle","labelAngle",-15299184),(45)], null),new cljs.core.Keyword(null,"timeUnit","timeUnit",-1287194281),"yearquarter",new cljs.core.Keyword(null,"scale","scale",-230427353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"domain","domain",1847214937),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["2013-01-01T00:00:00",new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"expr","expr",745722291),"now()"], null)], null)], null)], null),new cljs.core.Keyword(null,"y","y",-1757859776),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"title","title",636505583),"Carbon savings (CO2e tonnes)",new cljs.core.Keyword(null,"field","field",-1302436500),"carbonSavingCo2eTonnes",new cljs.core.Keyword(null,"type","type",1174270348),"quantitative"], null),new cljs.core.Keyword(null,"color","color",1011675173),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"title","title",636505583),"Waste stream",new cljs.core.Keyword(null,"field","field",-1302436500),"wasteStream",new cljs.core.Keyword(null,"type","type",1174270348),"nominal",new cljs.core.Keyword(null,"scale","scale",-230427353),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"scheme","scheme",90199613),"tableau20"], null),new cljs.core.Keyword(null,"legend","legend",-1027192245),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"columns","columns",1998437288),(2)], null)], null),new cljs.core.Keyword(null,"tooltip","tooltip",-1809677058),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"title","title",636505583),"Year quarter",new cljs.core.Keyword(null,"field","field",-1302436500),"quarter",new cljs.core.Keyword(null,"type","type",1174270348),"temporal",new cljs.core.Keyword(null,"format","format",-1306924766),"Q%q %Y"], null),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"title","title",636505583),"Carbon Savings (CO2e tonnes)",new cljs.core.Keyword(null,"field","field",-1302436500),"carbonSavingCo2eTonnes",new cljs.core.Keyword(null,"type","type",1174270348),"quantitative",new cljs.core.Keyword(null,"format","format",-1306924766),".3f"], null),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"title","title",636505583),"Waste stream",new cljs.core.Keyword(null,"field","field",-1302436500),"wasteStream",new cljs.core.Keyword(null,"type","type",1174270348),"nominal"], null)], null)], null)], null)], null),new cljs.core.Keyword(null,"config","config",994861415),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"axisX","axisX",-305600017),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"grid","grid",402978600),false], null)], null)], null);
dcs.pasi.app.view.unauthenticated.chart.chart_template_wasteStream_line = cljs.core.assoc_in(dcs.pasi.app.view.unauthenticated.chart.chart_template_wasteStream_bar,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"layer","layer",-1601820589),(0),new cljs.core.Keyword(null,"mark","mark",-373816345),new cljs.core.Keyword(null,"type","type",1174270348)], null),"line");
dcs.pasi.app.view.unauthenticated.chart.chart_template_organisation_bar = cljs.core.assoc_in(cljs.core.assoc_in(cljs.core.assoc_in(cljs.core.assoc_in(cljs.core.assoc_in(cljs.core.assoc_in(dcs.pasi.app.view.unauthenticated.chart.chart_template_wasteStream_bar,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"transform","transform",1381301764),(1),new cljs.core.Keyword(null,"groupby","groupby",-497368173),(1)], null),"enabler"),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"layer","layer",-1601820589),(0),new cljs.core.Keyword(null,"encoding","encoding",1728578272),new cljs.core.Keyword(null,"color","color",1011675173),new cljs.core.Keyword(null,"title","title",636505583)], null),"Organisation"),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"layer","layer",-1601820589),(0),new cljs.core.Keyword(null,"encoding","encoding",1728578272),new cljs.core.Keyword(null,"color","color",1011675173),new cljs.core.Keyword(null,"field","field",-1302436500)], null),"enabler"),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"layer","layer",-1601820589),(0),new cljs.core.Keyword(null,"encoding","encoding",1728578272),new cljs.core.Keyword(null,"color","color",1011675173),new cljs.core.Keyword(null,"legend","legend",-1027192245),new cljs.core.Keyword(null,"columns","columns",1998437288)], null),(1)),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"layer","layer",-1601820589),(0),new cljs.core.Keyword(null,"encoding","encoding",1728578272),new cljs.core.Keyword(null,"tooltip","tooltip",-1809677058),(2),new cljs.core.Keyword(null,"title","title",636505583)], null),"Organisation"),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"layer","layer",-1601820589),(0),new cljs.core.Keyword(null,"encoding","encoding",1728578272),new cljs.core.Keyword(null,"tooltip","tooltip",-1809677058),(2),new cljs.core.Keyword(null,"field","field",-1302436500)], null),"enabler");
dcs.pasi.app.view.unauthenticated.chart.chart_template_organisation_line = cljs.core.assoc_in(dcs.pasi.app.view.unauthenticated.chart.chart_template_organisation_bar,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"layer","layer",-1601820589),(0),new cljs.core.Keyword(null,"mark","mark",-373816345),new cljs.core.Keyword(null,"type","type",1174270348)], null),"line");
dcs.pasi.app.view.unauthenticated.chart.chart_templates = cljs.core.PersistentArrayMap.createAsIfByAssoc([new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Waste stream","Bar chart"], null),dcs.pasi.app.view.unauthenticated.chart.chart_template_wasteStream_bar,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Waste stream","Line chart"], null),dcs.pasi.app.view.unauthenticated.chart.chart_template_wasteStream_line,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Organisation","Bar chart"], null),dcs.pasi.app.view.unauthenticated.chart.chart_template_organisation_bar,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, ["Organisation","Line chart"], null),dcs.pasi.app.view.unauthenticated.chart.chart_template_organisation_line]);
dcs.pasi.app.view.unauthenticated.chart.ele = (function dcs$pasi$app$view$unauthenticated$chart$ele(wr_ds,selected_years,selected_orgs,selected_streams,selected_groupby,selected_charttype){
var chart_template = (function (){var G__60917 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [selected_groupby,selected_charttype], null);
return (dcs.pasi.app.view.unauthenticated.chart.chart_templates.cljs$core$IFn$_invoke$arity$1 ? dcs.pasi.app.view.unauthenticated.chart.chart_templates.cljs$core$IFn$_invoke$arity$1(G__60917) : dcs.pasi.app.view.unauthenticated.chart.chart_templates.call(null,G__60917));
})();
var chart_spec = cljs.core.assoc_in(chart_template,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"values","values",372645556)], null),dcs.pasi.app.view.unauthenticated.tmp.filter_ds(wr_ds,selected_years,selected_orgs,selected_streams));
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [oz.core.vega_lite,chart_spec,dcs.pasi.app.util.vega_embed_opts], null);
});
dcs.pasi.app.view.unauthenticated.chart.root = (function dcs$pasi$app$view$unauthenticated$chart$root(){
return new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [dcs.pasi.app.view.unauthenticated.chart.ele,cljs.core.deref(dcs.pasi.app.state.unauthn_wr_ds_cursor),cljs.core.deref(dcs.pasi.app.state.unauthn_selected_years_cursor),cljs.core.deref(dcs.pasi.app.state.unauthn_selected_orgs_cursor),cljs.core.deref(dcs.pasi.app.state.unauthn_selected_streams_cursor),cljs.core.deref(dcs.pasi.app.state.unauthn_selected_groupby_cursor),cljs.core.deref(dcs.pasi.app.state.unauthn_selected_charttype_cursor)], null);
});

//# sourceMappingURL=dcs.pasi.app.view.unauthenticated.chart.js.map
